<!DOCTYPE html>
<html>
<head>
    <title>Basic Example</title>
    <link rel="stylesheet" href="styles/style.css" />
    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="styles/sh_style.css" />
    <script type="text/javascript" src="scripts/sh_main.min.js"></script>
    <script type="text/javascript" src="scripts/sh_javascript.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>
<body>
    <div class="page">
        <h1 class="introduction">Press SHIFT+A to display an alert!</h1>
        <div class="content">
            <button id="clicker">Show Code</button>
        </div>
        <div class="shelf">
            <pre id="sauce" class="sh_javascript"></pre>
            <h3>Press ESC to return to the demo.</h3>
        </div>
    </div>
    <script type="text/javascript" src="../src/keys.js"></script>
    <script type="text/javascript" id="code">
        (function() {
            window.Bindings = Keys.Bindings;
            window.Combo    = Keys.Combo;
            window.Key      = Keys.Key;

            // Initialize application-wide bindings manager
            window.bindings = new Bindings();

            // Add binding to display an alert
            bindings.add('displayAlert', new Combo(Key.A, Key.SHIFT));

            // Register display alert behavior using inferred name/eventType notation
            bindings.registerHandler(displayAlert);
            /**
             *  If you want to use a specific eventType (default is 'keydown'):
            bindings.registerHandler('keyup', displayAlert);

             *  Or if you want to use a named function for a binding with a different name:
            bindings.registerHandler('sayHello', displayAlert);

             *  Or if you want to use an anonymous function for the handler:
            bindings.registerHandler('displayAlert', function() {
                alert('Hello!');
            });

             *  Or if you want to specify everything at once:
            bindings.registerHandler('displayAlert', 'keyup', displayAlert);

             */
            function displayAlert() {
                alert('Hello!');
            }
        })();
    </script>
    <script type="text/javascript">
        $(function() {
            var script = $('#code');
            var sauce  = $('#sauce');

            bindings.add('showDemo', Key.Esc);
            bindings.registerHandler('showDemo', function() {
                $('.shelf').hide();
            });

            // Copy script to 'sauce' div
            sauce.html(script.html());

            // Show sauce on button click
            var shown = false;
            $('#clicker').click(function() {
                if (shown) {
                    $('.shelf').hide();
                    sauce.addClass('hide');
                    shown = false;
                }
                else {
                    $('.shelf').show();
                    sauce.removeClass('hide');
                    shown = true;
                }
                // Initialize syntax highlighting
                sh_highlightDocument();
            });
        });
    </script>
</body>
</html>