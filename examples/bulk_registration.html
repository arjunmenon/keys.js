<!DOCTYPE html>
<html>
<head>
    <title>Basic Example</title>
    <link rel="stylesheet" href="styles/style.css" />
    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="styles/sh_style.css" />
    <script type="text/javascript" src="scripts/sh_main.min.js"></script>
    <script type="text/javascript" src="scripts/sh_javascript.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>
<body>
    <div class="page">
        <h1 class="introduction">
            Press SHIFT+A to display an alert,
            <br />or..<br />
            Press SHIFT+M to display a modal.
        </h1>
        <div class="content">
            <button id="clicker">Show Code</button>
        </div>
        <div class="shelf">
            <pre id="sauce" class="sh_javascript"></pre>
            <h3>Press ESC to return to the demo.</h3>
        </div>
        <div class="modal overlay">
            <div class="modalBox">
                <h3 class="title">Alert</h3>
                <hr />
                <p class="message">Press SHIFT+X to close..</p>
                <span class="close">x</span>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="../src/keys.js"></script>
    <script type="text/javascript" id="code">
        (function() {
            // Initialize application-wide bindings manager
            var bindings = window.bindings = new Bindings();

            /**
             * You can load up your applications keybindings quickly using load.
             * Behind the scenes it reads the specification object provided, and
             * delegates responsibility for adding the bindings and registering
             * their behavior to `add` and `registerHandlers`, just as if you had
             * called them manually for each binding.
             */
            bindings.load({
                displayAlert: {
                    bind: new Combo(Key.A, Key.SHIFT),
                    handler: function() {
                        alert('Hello!');
                    }
                },
                displayModal: {
                    bind: new Combo(Key.M, Key.SHIFT),
                    handler: displayModal
                },
                hideModal: {
                    bind: new Combo(Key.X, Key.SHIFT),
                    eventType: 'keypress',
                    handler: hideModal
                }
            });

            function displayModal() {
                $('.modal').fadeIn('fast');
            }
            function hideModal() {
                $('.modal').fadeOut('fast');
            }
        })();
    </script>
    <script type="text/javascript">
        $(function() {
            var script = $('#code');
            var sauce  = $('#sauce');

            bindings.add('showDemo', Key.Esc);
            bindings.registerHandler('showDemo', function() {
                $('.shelf').hide();
            });

            // Copy script to 'sauce' div
            sauce.html(script.html());

            // Show sauce on button click
            var shown = false;
            $('#clicker').click(function() {
                if (shown) {
                    $('.shelf').hide();
                    sauce.addClass('hide');
                    shown = false;
                }
                else {
                    $('.shelf').show();
                    sauce.removeClass('hide');
                    shown = true;
                }
                // Initialize syntax highlighting
                sh_highlightDocument();
            });
            $('.close').click(function() {
                $('.modal').fadeOut('fast');
            });
        });
    </script>
</body>
</html>